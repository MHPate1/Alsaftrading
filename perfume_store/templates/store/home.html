{% extends 'store/base.html' %}
{% block content %}
<section class="hero-slideshow">
    <div class="slide-container">

        <div class="hero-slide active" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://fezxyrxqjypoubhvmryd.supabase.co/storage/v1/object/sign/Perfume/oils/shilajit.avif?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJQZXJmdW1lL29pbHMvc2hpbGFqaXQuYXZpZiIsImlhdCI6MTczODI2OTA3MywiZXhwIjoxNzY5ODA1MDczfQ.NExUH9p-tWIjjITNGjCJcgfZEVQ4ceC7tHyixeopBIw&t=2025-01-30T20%3A31%3A15.577Z')">
            <div class="hero-content">
                <h1>Natural<br>Shilajit</h1>
                <p>Explore its amazing benefits</p>
                <!-- Link directly to the new category in the shop -->
                <a href="{% url 'store:shop' %}?category=Oils" class="btn">SHOP SHILAJIT</a>
            </div>
        </div>

        <!-- Fragrance Slide -->
        <div class="hero-slide " style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://fezxyrxqjypoubhvmryd.supabase.co/storage/v1/object/sign/Perfume/General/perfumebackground.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJQZXJmdW1lL0dlbmVyYWwvcGVyZnVtZWJhY2tncm91bmQuanBnIiwiaWF0IjoxNzMyNjM5NDUyLCJleHAiOjE3NjQxNzU0NTJ9.WT01uhE49VuiLghvmWJOpPprzODPRnrtdus0eX49pao&t=2024-11-26T16%3A44%3A12.843Z')">
            <div class="hero-content">
                <h1>Fragrance in<br>a bottle</h1>
                <p>A collection of heavenly fragrances</p>
                <a href="{% url 'store:shop' %}" class="btn">SHOP NOW</a>
            </div>
        </div>

        <!-- Gifts Slide -->
        <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://fezxyrxqjypoubhvmryd.supabase.co/storage/v1/object/sign/Perfume/General/gifts.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJQZXJmdW1lL0dlbmVyYWwvZ2lmdHMuanBnIiwiaWF0IjoxNzMyNjM5NzExLCJleHAiOjE3NjQxNzU3MTF9.nT9vvfQ9YNuaV8gNp6FC9qOcFcqZ_iBcu-TJzbpsWJ8&t=2024-11-26T16%3A48%3A31.859Z')">
            <div class="hero-content">
                <h1>Gifts<br>for all</h1>
                <p>Explore our collection of special gifts</p>
                <a href="{% url 'store:shop' %}" class="btn">SHOP GIFTS</a>
            </div>
        </div>

        <!-- Kids Slide -->
        <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://fezxyrxqjypoubhvmryd.supabase.co/storage/v1/object/sign/Perfume/General/kids.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJQZXJmdW1lL0dlbmVyYWwva2lkcy5qcGciLCJpYXQiOjE3MzI2Mzk3MjgsImV4cCI6MTc2NDE3NTcyOH0.xG99tECAMH1e5M8zzqHltKbBy_EQI3ZYmjnqKYWj8oA&t=2024-11-26T16%3A48%3A48.942Z')">
            <div class="hero-content">
                <h1>Shop<br>for Kids</h1>
                <p>Explore our kids collection</p>
                <a href="{% url 'store:shop' %}" class="btn">SHOP KIDS</a>
            </div>
        </div>

                <!-- Jewellery Slide -->
                <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://fezxyrxqjypoubhvmryd.supabase.co/storage/v1/object/sign/Perfume/jewellery/jewellery.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJQZXJmdW1lL2pld2VsbGVyeS9qZXdlbGxlcnkuanBnIiwiaWF0IjoxNzM2MjY4ODY4LCJleHAiOjE3Njc4MDQ4Njh9.QCUETD9-8_Vp6JKOZEUBPcldwmFpBz9s5u-bzch8fUI&t=2025-01-07T16%3A54%3A28.540Z')">
                    <div class="hero-content">
                        <h1>Elegant<br>Jewellery</h1>
                        <p>Discover our stunning collection</p>
                        <a href="{% url 'store:shop' %}" class="btn">SHOP JEWELLERY</a>
                    </div>
                </div>
        
                <!-- Gemstones Slide -->
                <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://fezxyrxqjypoubhvmryd.supabase.co/storage/v1/object/sign/Perfume/gemstones/gemstones.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJQZXJmdW1lL2dlbXN0b25lcy9nZW1zdG9uZXMuanBnIiwiaWF0IjoxNzM2MjY4OTE4LCJleHAiOjE3Njc4MDQ5MTh9.eSTJCB0P806UeHGp0y2w2SBFoebJFoIso-MCkAA-NYw&t=2025-01-07T16%3A55%3A19.625Z')">
                    <div class="hero-content">
                        <h1>Natural<br>Gemstones</h1>
                        <p>Explore our precious stones</p>
                        <a href="{% url 'store:shop' %}" class="btn">SHOP GEMSTONES</a>
                    </div>
                </div>


        <!-- Navigation Arrows -->
        <button class="slide-arrow prev-slide">❮</button>
        <button class="slide-arrow next-slide">❯</button>

        <!-- Slide Indicators -->
        <!-- Update the indicators to match the number of slides -->
        <div class="slide-indicators">
            <button class="indicator active"></button>
            <button class="indicator"></button>
            <button class="indicator"></button>
            <button class="indicator"></button>
            <button class="indicator"></button>
            <button class="indicator"></button>
        </div>
    </div>

        <!-- Popup container holding both banners -->
<!--    <div class="popup-container">-->
<!--        &lt;!&ndash; TikTok Banner &ndash;&gt;-->
<!--        <div class="promo-banner" id="tiktok-banner">-->
<!--            <span class="close-btn" data-close="tiktok-banner">×</span>-->
<!--            <p>Follow us on <strong>TikTok</strong>!</p>-->
<!--            <a href="https://www.tiktok.com/@mighty.gemstones" target="_blank" rel="noopener">@mighty.gemstones</a>-->
<!--        </div>-->

<!--        &lt;!&ndash; Shipping Banner &ndash;&gt;-->
<!--        <div class="promo-banner" id="shipping-banner">-->
<!--            <span class="close-btn" data-close="shipping-banner">×</span>-->
<!--            <p>Free Shipping on orders over £20!</p>-->
<!--        </div>-->
<!--    </div>-->
</section>

<section class="category-section">
    <div class="category-cards">
        <div class="card gifts">
            <h2>Gifts <span>for all</span></h2>
            <p>Explore our collection of special gifts</p>
            <a href="{% url 'store:shop' %}" class="btn">SHOP GIFTS</a>
        </div>

        <div class="card kids">
            <h2>Shop <span>for Kids</span></h2>
            <p>Explore our kids collection</p>
            <a href="{% url 'store:shop' %}" class="btn">SHOP KIDS</a>
        </div>
    </div>
</section>

<section class="trending">
    <h2>Top Trending</h2>
    <div class="filter-buttons">
        <button class="filter-btn {% if current_category == 'Gemstones' %}active{% endif %}" 
                data-category="Gemstones">Gemstones</button>
        <button class="filter-btn {% if current_category == 'Jewellery' %}active{% endif %}" 
                data-category="Jewellery">Jewellery</button>
        <button class="filter-btn {% if current_category == 'Perfume' %}active{% endif %}" 
                data-category="Perfume">Perfume</button>
        <!-- New button -->
        <button class="filter-btn {% if current_category == 'Oils' %}active{% endif %}" 
                data-category="Oils">Herbs & Oils</button>
    </div>
    <div class="product-grid">
        {% for product in products %}
        <div class="product-card" data-category="{{ product.category }}" data-id="{{ product.id }}" 
            data-name="{{ product.name }}" data-price="{{ product.price }}" 
            data-image="{{ product.image }}" data-brand="{{ product.brand }}">
            <img src="{{ product.image }}" alt="{{ product.name }}">
            <div class="product-info">
                <h3>{{ product.name }}</h3>
                <div class="price-heart-container">
                    <p class="price">£{{ product.price }}</p>
                    <button class="heart-btn" data-product-id="{{ product.id }}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Slideshow functionality
    const slides = document.querySelectorAll('.hero-slide');
    const indicators = document.querySelectorAll('.indicator');
    const prevButton = document.querySelector('.prev-slide');
    const nextButton = document.querySelector('.next-slide');
    let currentSlide = 0;
    let slideInterval = null;

    function showSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        indicators.forEach(indicator => indicator.classList.remove('active'));
        slides[index].classList.add('active');
        indicators[index].classList.add('active');
        currentSlide = index;
    }

    function nextSlide() {
        const next = (currentSlide + 1) % slides.length;
        showSlide(next);
    }

    function previousSlide() {
        const prev = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(prev);
    }

    function startSlideshow() {
        if (slideInterval) clearInterval(slideInterval);
        slideInterval = setInterval(nextSlide, 5000);
    }

    prevButton.addEventListener('click', () => {
        previousSlide();
        startSlideshow();
    });

    nextButton.addEventListener('click', () => {
        nextSlide();
        startSlideshow();
    });

    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            showSlide(index);
            startSlideshow();
        });
    });
    showSlide(0)
    startSlideshow();

    // Product card functionality
    function attachProductCardListeners() {
        const productCards = document.querySelectorAll('.product-card');
        productCards.forEach(card => {
            card.addEventListener('click', function(e) {
                if (e.target.closest('.heart-btn')) return;
                const category = this.dataset.category;
                const productId = this.dataset.id;
                window.location.href = `/product/${category}/${productId}/`;
            });
        });
    }

    // Filter functionality
    const filterButtons = document.querySelectorAll('.filter-btn');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', (e) => {
            e.preventDefault();
            filterButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            const category = button.dataset.category;
            
            fetch(`/?category=${category}`)
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const newGrid = doc.querySelector('.product-grid');
                    if (newGrid) {
                        document.querySelector('.product-grid').innerHTML = newGrid.innerHTML;
                        attachProductCardListeners(); // Reattach event listeners
                    }
                });
        });
    });

    // Initial attachment of product card listeners
    attachProductCardListeners();
});


document.addEventListener('DOMContentLoaded', function() {
    const closeButtons = document.querySelectorAll('.close-btn');
    closeButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            const bannerId = this.getAttribute('data-close');
            const banner   = document.getElementById(bannerId);
            if (banner) {
                banner.style.display = 'none';
            }
        });
    });
});


</script>


<section class="contact-banner">
    <div class="contact-content">
        <h2>Get in Touch Now</h2>
        <div class="contact-info">
            <div class="contact-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                </svg>
                <a href="tel:+441234567890">+44 7754 978245</a>
            </div>
            <div class="contact-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                <a href="mailto:info@yourstore.com">support@giftoutlet.co.uk</a>
            </div>
        </div>
    </div>
</section>

<section class="trending gift-sets">
    <h2>Gift Sets</h2>
    <div class="product-grid">  <!-- Using same product-grid class as trending section -->
        {% for gift in gift_sets %}
        <div class="product-card" data-category="Gift sets" data-id="{{ gift.id }}" 
            data-name="{{ gift.name }}" data-price="{{ gift.price }}" 
            data-image="{{ gift.image }}" data-brand="{{ gift.brand }}">
            <img src="{{ gift.image }}" alt="{{ gift.name }}">
            <div class="product-info">
                <h3>{{ gift.name }}</h3>
                <div class="price-heart-container">
                    <p class="price">£{{ gift.price }}</p>
                    <button class="heart-btn" data-product-id="{{ gift.id }}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<section class="reviews">
    <h2>What people have said</h2>
    <div class="review-grid">
        <div class="review-card">
            <div class="stars">⭐⭐⭐⭐⭐</div>
            <p>Very helpful and friendly man who owns the shop. Always offers good service and advice too.</p>
        </div>
        <div class="review-card">
            <div class="stars">⭐⭐⭐⭐⭐</div>
            <p>I highly recommend this shop for anyone wanting jewellery and exceptional customer service.</p>
        </div>
        <div class="review-card">
            <div class="stars">⭐⭐⭐⭐⭐</div>
            <p>Their perfume collection is simply stunning, and the offers and gift sets are gorgeous.</p>
        </div>
    </div>
</section>

<!-- Enhanced Footer Policy Section -->
<section class="policy-section">
    <div class="policy-container">
        <h3 class="policy-heading">Our Policies</h3>
        <div class="policy-grid">
            <div class="policy-card" data-policy="refund">
                <div class="policy-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 1v22"></path>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                    </svg>
                </div>
                <h4 class="policy-card-title">Refund Policy</h4>
                <p class="policy-card-desc">Learn about our refund process and eligibility criteria.</p>
                <button class="policy-btn policy-link" data-policy="refund">Read More</button>
            </div>
            
            <div class="policy-card" data-policy="shipping">
                <div class="policy-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="1" y="3" width="15" height="13"></rect>
                        <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon>
                        <circle cx="5.5" cy="18.5" r="2.5"></circle>
                        <circle cx="18.5" cy="18.5" r="2.5"></circle>
                    </svg>
                </div>
                <h4 class="policy-card-title">Shipping Policy</h4>
                <p class="policy-card-desc">Information about delivery times and shipping methods.</p>
                <button class="policy-btn policy-link" data-policy="shipping">Read More</button>
            </div>
            
            <div class="policy-card" data-policy="returns">
                <div class="policy-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="1 4 1 10 7 10"></polyline>
                        <polyline points="23 20 23 14 17 14"></polyline>
                        <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                    </svg>
                </div>
                <h4 class="policy-card-title">Returns</h4>
                <p class="policy-card-desc">Step-by-step guide to returning products.</p>
                <button class="policy-btn policy-link" data-policy="returns">Read More</button>
            </div>
            
            <div class="policy-card" data-policy="terms">
                <div class="policy-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                </div>
                <h4 class="policy-card-title">Terms of Service</h4>
                <p class="policy-card-desc">Our terms and conditions for using our services.</p>
                <button class="policy-btn policy-link" data-policy="terms">Read More</button>
            </div>
        </div>
    </div>
    
    <!-- Policy Modal (Keep the existing modal code) -->
    <div class="policy-modal" id="policy-modal">
        <div class="policy-modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="policy-title">Policy Title</h2>
            <div id="policy-content">
                <!-- Policy content will be loaded here -->
            </div>
        </div>
    </div>
</section>

<!-- Enhanced CSS for Policy Components -->
<style>
    .policy-section {
        padding: 3rem 2rem;
        background-color: #f8f9fa;
        margin-top: 3rem;
        border-top: 1px solid #e9ecef;
    }
    
    .policy-container {
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .policy-heading {
        text-align: center;
        font-size: 1.8rem;
        color: #333;
        margin-bottom: 2.5rem;
        position: relative;
    }
    
    .policy-heading:after {
        content: '';
        position: absolute;
        bottom: -12px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 3px;
        background-color: var(--primary-color);
    }
    
    .policy-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
    }
    
    .policy-card {
        background-color: white;
        border-radius: 10px;
        padding: 2rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        text-align: center;
    }
    
    .policy-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }
    
    .policy-icon {
        width: 60px;
        height: 60px;
        background-color: rgba(71, 181, 255, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
    }
    
    .policy-icon svg {
        color: var(--primary-color);
    }
    
    .policy-card-title {
        font-size: 1.2rem;
        color: #333;
        margin-bottom: 1rem;
    }
    
    .policy-card-desc {
        color: #666;
        font-size: 0.95rem;
        margin-bottom: 1.5rem;
        line-height: 1.5;
    }
    
    .policy-btn {
        background-color: transparent;
        color: var(--primary-color);
        border: 1px solid var(--primary-color);
        padding: 0.6rem 1.2rem;
        border-radius: 5px;
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .policy-btn:hover {
        background-color: var(--primary-color);
        color: white;
    }
    
    /* Modal Styles (keep existing styles) */
    .policy-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        overflow-y: auto;
    }
    
    .policy-modal-content {
        background-color: white;
        margin: 5% auto;
        padding: 2rem;
        width: 80%;
        max-width: 800px;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        position: relative;
        max-height: 80vh;
        overflow-y: auto;
    }
    
    .close-modal {
        position: absolute;
        top: 1rem;
        right: 1.5rem;
        font-size: 1.8rem;
        color: #aaa;
        cursor: pointer;
        transition: color 0.3s ease;
    }
    
    .close-modal:hover {
        color: #333;
    }
    
    #policy-title {
        color: #333;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid var(--primary-color);
    }
    
    #policy-content {
        line-height: 1.6;
        color: #555;
    }
    
    #policy-content h3 {
        margin-top: 1.5rem;
        margin-bottom: 1rem;
        color: #333;
    }
    
    #policy-content p {
        margin-bottom: 1rem;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .policy-grid {
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        }
        
        .policy-card {
            padding: 1.5rem;
        }
    }
    
    @media (max-width: 480px) {
        .policy-section {
            padding: 2rem 1rem;
        }
        
        .policy-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
    }
</style>

<!-- Keep the existing JavaScript for Policy Modal -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const policyLinks = document.querySelectorAll('.policy-link');
        const policyCards = document.querySelectorAll('.policy-card');
        const policyModal = document.getElementById('policy-modal');
        const policyTitle = document.getElementById('policy-title');
        const policyContent = document.getElementById('policy-content');
        const closeModal = document.querySelector('.close-modal');
        
        // Policy content
        const policies = {
            refund: {
                title: "Refund Policy",
                content: `
                    <h3>Standard Product Returns</h3>
                    <p>This returns policy applies to products bought directly from our website. If you have purchased our products from another retailer then please contact them for their own returns and refund procedures.</p>
                    
                    <p>We are happy to refund or exchange any product returned within 14 days of purchase, if it is returned in its original state, unused, unopened with tamper seals in tact and in original packaging.</p>
                    
                    <p>Please contact us prior to returning your item to let us know to expect your return. Please include your order number in the package.</p>
                    
                    <h3>Processing Your Refund</h3>
                    <p>Assuming the item(s) are in good, saleable condition we will then process your refund. Refunds are made to your original payment method and depending on your payment issuers policies, there may be a couple of days' delay in being credited.</p>
                    
                    <p>Unfortunately, we cannot accept returns on sale items or gift cards.</p>
                    
                    <h3>Damages and Issues</h3>
                    <p>We try our best to ensure all items make it to you safely. However if you receive any items that are damaged or faulty on arrival then we will issue a replacement product free of charge or offer a refund. Please just let us know by contacting us.</p>
                `
            },
            shipping: {
                title: "Shipping Policy",
                content: `
                    <p>All orders are shipped within 24 to 48 hours of you placing the order using with Royal Mail service. Typical delivery time frame is between 2 to 4 business days however, you may receive your items much earlier. All orders are shipped with tracking number so you can track it every step of the way!</p>
                    
                    <p>Packages may be faced with delays beyond our control such as customs or postal delays.</p>
                    
                    <h3>Free Shipping</h3>
                    <p>We offer free shipping on all orders over £20. Orders below this threshold will incur a shipping charge of £4.99.</p>
                    
                    <h3>International Shipping</h3>
                    <p>We currently only ship within the United Kingdom. We hope to expand our shipping options in the future.</p>
                `
            },
            returns: {
                title: "Returns Process",
                content: `
                    <h3>How to Return an Item</h3>
                    <p>1. Contact us at support@giftoutlet.co.uk to inform us about your return</p>
                    <p>2. Include your order number and reason for return</p>
                    <p>3. Package the item in its original packaging with all tags and seals intact</p>
                    <p>4. Ship the item to our returns address (provided after you contact us)</p>
                    <p>5. We'll process your return within 3-5 business days of receiving it</p>
                    
                    <h3>Subscription Orders</h3>
                    <p>As we use a third party logistics company to deliver your products and orders are picked and packed within minutes of the orders being placed (during weekdays), we require a minimum of 24 hours' notice to cancel a subscription order. If you miss this cancelation window, you are still able to return the product(s) to us, in their original state using the Standard Product Returns procedure.</p>
                `
            },
            terms: {
                title: "Terms of Service",
                content: `
                    <h3>Overview</h3>
                    <p>This website is operated by Gift Outlet. Throughout the site, the terms "we", "us" and "our" refer to Gift Outlet. Gift Outlet offers this website, including all information, tools and services available from this site to you, the user, conditioned upon your acceptance of all terms, conditions, policies and notices stated here.</p>
                    
                    <h3>General Conditions</h3>
                    <p>We reserve the right to refuse service to anyone for any reason at any time.</p>
                    <p>You understand that your content (not including credit card information), may be transferred unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices.</p>
                    <p>You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service, use of the Service, or access to the Service or any contact on the website through which the service is provided, without express written permission by us.</p>
                    
                    <h3>Accuracy, Completeness and Timeliness of Information</h3>
                    <p>We are not responsible if information made available on this site is not accurate, complete or current. The material on this site is provided for general information only and should not be relied upon or used as the sole basis for making decisions without consulting primary, more accurate, more complete or more timely sources of information.</p>
                `
            }
        };
        
        // Function to open modal
        function openPolicyModal(policyType) {
            const policy = policies[policyType];
            
            if (policy) {
                policyTitle.textContent = policy.title;
                policyContent.innerHTML = policy.content;
                policyModal.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Prevent scrolling behind modal
            }
        }
        
        // Open modal with button clicks
        policyLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const policyType = this.getAttribute('data-policy');
                openPolicyModal(policyType);
            });
        });
        
        // Make entire card clickable
        policyCards.forEach(card => {
            card.addEventListener('click', function(e) {
                // Only trigger if the click wasn't on the button itself
                if (!e.target.classList.contains('policy-btn')) {
                    const policyType = this.getAttribute('data-policy');
                    openPolicyModal(policyType);
                }
            });
        });
        
        // Close modal
        closeModal.addEventListener('click', function() {
            policyModal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        });
        
        // Close modal if clicking outside content
        window.addEventListener('click', function(e) {
            if (e.target === policyModal) {
                policyModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
        
        // Close modal with ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && policyModal.style.display === 'block') {
                policyModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
    });
</script>
{% endblock %}